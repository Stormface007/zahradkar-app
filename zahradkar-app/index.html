<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zahr√°dk√°≈ôsk√Ω syst√©m</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- P≈ôihla≈°ovac√≠ formul√°≈ô -->
  <div id="loginDiv">
    <img src="img/icon_trimmed_transparent_customcolor.png" alt="Logo" class="logo-small" />
    <input type="text" id="username" placeholder="U≈æivatelsk√© jm√©no" />
    <input type="password" id="password" placeholder="Heslo" />
    <button onclick="login()">P≈ôihl√°sit</button>
    <div id="loginMsg"></div>
  </div>

  <!-- Hlavn√≠ aplikace -->
  <div id="appDiv" style="display: none;">
    <h2>Moje z√°hony</h2>
    <button onclick="logout()">Odhl√°sit se</button>

    <div class="table-actions">
      <button onclick="deleteSelected()">üóëÔ∏è Smazat oznaƒçen√©</button>
    </div>

    <div class="table-container">
      <table id="zahonyTable">
        <thead>
          <tr>
            <th></th>
            <th>N√°zev z√°honu</th>
            <th class="velikost-column">Velikost</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <h3>P≈ôidat nov√Ω z√°hon</h3>
    <input type="text" id="newNazev" placeholder="N√°zev z√°honu" />
    <input type="number" id="newDelka" placeholder="D√©lka (m)" />
    <input type="number" id="newSirka" placeholder="≈†√≠≈ôka (m)" />
    <button onclick="addZahon()">P≈ôidat</button>
  </div>

  <!-- MOD√ÅLN√ç OKNO -->
  <div id="modal" class="modal">
    <div class="modal-content">

      <!-- BOƒåN√ç PANEL IKON -->
      <div class="side-icons">
        <img id="icon-mereni"    class="side-icon" src="img/mereni.png"   alt="Mƒõ≈ôen√≠"     onclick="setActiveIcon('mereni')"   />
        <img id="icon-seti"    class="side-icon" src="img/seti.png"    alt="Set√≠"     onclick="onIconClick('seti')"    />
        <img id="icon-hnojeni" class="side-icon" src="img/hnojeni.png" alt="Hnojen√≠" onclick="onIconClick('hnojeni')" />
        <img id="icon-sklizen" class="side-icon" src="img/sklizen.png" alt="Sklize≈à" onclick="onIconClick('sklizen')" />
        <img id="icon-analyza" class="side-icon" src="img/analyza.png" alt="Anal√Ωza" onclick="onIconClick('analyza')" />
       <!-- nov√© ikony ‚Äì zat√≠m pouze pro vysunut√≠ -->
  <img id="icon-eshop"     class="side-icon" src="img/e-shop.png"   alt="E-shop"     onclick="setActiveIcon('eshop')"    />
  <img id="icon-sluzba"    class="side-icon" src="img/sluzba.png"   alt="Slu≈æba"     onclick="setActiveIcon('sluzba')"   />
  <img id="icon-market"    class="side-icon" src="img/market.png"   alt="Market"     onclick="setActiveIcon('market')"   />
  <img id="icon-nastaveni" class="side-icon" src="img/nastaveni.png"alt="Nastaven√≠" onclick="setActiveIcon('nastaveni')" />
</div>

      <!-- V√Ωchoz√≠ re≈æim √∫pravy z√°honu -->
      <div id="modalViewDefault">
        <h3>√öprava z√°honu</h3>
        <input type="text" id="editNazev" placeholder="N√°zev z√°honu" />

        <div class="dimensions">
          <input type="number" id="editDelka" placeholder="D√©lka (m)" oninput="updatePlocha()" />
          <input type="number" id="editSirka" placeholder="≈†√≠≈ôka (m)" oninput="updatePlocha()" />
        </div>

        <div class="plocha">Plocha: <span id="vypocetPlochy">0</span> m¬≤</div>
        <div id="zahonVizualizace"></div>

        <button onclick="saveZahon()">Ulo≈æit zmƒõny</button>
        <button onclick="closeModal()">Zav≈ô√≠t</button>
      </div>

      <!-- Re≈æim pr√°ce s ud√°lostmi / anal√Ωzou -->
      <div id="modalViewUdalost">
        <!-- Pro klasick√© ud√°losti: -->
        <div id="udalostFormContainer"></div>
        <div id="udalostSeznamContainer"></div>
        <!-- Pro anal√Ωzu p≈ôibude t≈ô√≠da "analysis" a JS sem vykresl√≠ -->
        <button id="btnZpet" onclick="zpetNaDetailZahonu()">Zpƒõt</button>
      </div>

    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>